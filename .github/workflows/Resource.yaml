name: "my work flow"

on: push
  # push:
  #   branches:
  #     - 'feature/**'

permissions:          
  id-token: write        
  contents: read       
  
jobs:
  TerraformInit: 
    name: Initva
    runs-on: aman-runner
    steps:
      - name: Checkout
        uses: actions/checkout@v5.0.0 

      - name: Install Terraform
        uses: little-core-labs/install-terraform@v2.0.0
        with:
          version: 1.8.5
      - name: Azure Login
        uses: Azure/login@v2.3.0
        with:
              client-id: 7bba9e59-4de0-4840-831b-1bd5e39fd291
              tenant-id: 5792dd07-62dc-48ac-a7ae-855280503fdb
              subscription-id: 76095b6e-0585-402e-8e43-2818c


      - name: Terraform fmt
        id: fmt
        run: terraform fmt -check
        continue-on-error: true

      - name: Terraform Init
        id: init
        run: terraform init -input=false
        
      # - name: Terraform init azurerm backend
      #   uses: ahmedig/terraform-azurerm-backend@v4
      #   with:
      #     azure_credentials: 8e43
      #     resource_group_name: myresourcegroup
      #     container_name: mycontainer
      #     storage_account_name: storageaccount432
              

      
      
